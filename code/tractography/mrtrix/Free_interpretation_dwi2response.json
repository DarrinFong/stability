{
    "author": "Darrin Fong",
    "command-line": "dwi2response [ALGORITHM] [DIFFUSION_IMAGE] [5TT_SEGMENTATION] [WM_RESPONSE] [GM_RESPONSE] [CSF_RESPONSE] [VOXELS] [SFWM_FA_THRESHOLD]",
    "container-image": {
        "image": "glatard/mrtrix3:latest",
        "index": "index.docker.io",
        "type": "docker"
    },
    "description": "DWI response function estimation",
    "inputs": [
        {
            "description": "Algorithms to estimate these response function(s) directly from your dataset itself. This process of estimating response function(s) from the data is non-trivial.",
            "id": "estimation_algorithm",
            "name": "estimation_algorithm",
            "optional": false,
            "type": "String",
            "value-choices": [
                "tournier", "tax", "fa", "dhollander", "msmt_5tt"
            ],
            "value-requires": {
                "manual": [],
                "tournier": [],
                "tax": [],
                "fa": [],
                "dhollander": ["gm_response", "csf_response"],
                "msmt_5tt": ["5tt_segmentation", "gm_response", "csf_response"]
            },
            "value-disables":{
                "manual": [],
                "tournier": ["5tt_segmentation", "gm_response", "csf_response"],
                "tax": ["5tt_segmentation", "gm_response", "csf_response"],
                "fa": ["5tt_segmentation", "gm_response", "csf_response"],
                "dhollander": ["5tt_segmentation"],
                "msmt_5tt": []
            },
            "value-key": "[ALGORITHM]"
        },
        {
            "description": "Raw DW image data",
            "id": "diffusion_image",
            "name": "diffusion_image",
            "optional": false,
            "type": "File",
            "value-key": "[DIFFUSION_IMAGE]"
        },
        {
            "description": "5TT segmentation from a spatially aligned anatomical image required by the msmt_5tt algorithm",
            "id": "5tt_segmentation",
            "name": "5tt_segmentation",
            "optional": true,
            "type": "File",
            "value-key": "[5TT_SEGMENTATION]"
        },
        {
            "description": "Single-fibre white matter response function",
            "id": "wm_response",
            "name": "wm_response",
            "optional": false,
            "type": "File",
            "value-key": "[WM_RESPONSE]"
        },
        {
            "description": "Single-fibre grey matter response function",
            "id": "gm_response",
            "name": "gm_response",
            "optional": true,
            "type": "File",
            "value-key": "[GM_RESPONSE]"
        },
        {
            "description": "CSF response function",
            "id": "csf_response",
            "name": "csf_response",
            "optional": true,
            "type": "File",
            "value-key": "[CSF_RESPONSE]"
        },
        {
            "description": "Output voxels that were selected by the algorithm to estimate the response function(s) from",
            "id": "voxels",
            "name": "voxels",
            "optional": true,
            "type": "String",
            "value-key": "[VOXELS]",
            "command-line-flag": "-voxels"
        },
        {
            "description": "A further hard FA threshold for the WM response. (MSMT-CSD: 0.7, Global Tractograpghy paper: 0.75)",
            "id": "sfwm_fa_threshold",
            "name": "sfwm_fa_threshold",
            "optional": true,
            "type": "Number",
            "integer": false,
            "value-key": "[SFWM_FA_THRESHOLD]",
            "command-line-flag": "-sfwm_fa_threshold"
        }
    ],
    "name": "Mrtrix3 Response function estimation",
    "output-files": [
        {
            "id": "wm_txt",
            "name": "wm_txt",
            "optional": false,
            "path-template": "[WM_RESPONSE].txt",
            "path-template-stripped-extensions": [
                ".nii.gz",
                ".nii",
                ".json"
            ]
        },
        {
            "id": "gm_txt",
            "name": "gm_txt",
            "optional": true,
            "path-template": "[GM_RESPONSE].txt",
            "path-template-stripped-extensions": [
                ".nii.gz",
                ".nii",
                ".json"
            ]
        },
        {
            "id": "csf_txt",
            "name": "csf_txt",
            "optional": true,
            "path-template": "[csf_RESPONSE].txt",
            "path-template-stripped-extensions": [
                ".nii.gz",
                ".nii",
                ".json"
            ]
        },
        {
            "id": "voxels_output",
            "name": "voxels_output",
            "optional": true,
            "path-template": "[VOXELS].mif",
            "path-template-stripped-extensions": [
                ".nii.gz",
                ".nii",
                ".json"
            ]
        }
    ],
    "schema-version": "0.5",
    "suggested-resources": {
        "cpu-cores": 1,
        "ram": 2048,
        "walltime-estimate": 20
    },
    "tags": {
        "domain": [
            "neuroinformatics",
            "image processing",
            "mri",
            "dwi",
            "tractography"
        ]
    },
    "tool-version": "v0.1.0"
}